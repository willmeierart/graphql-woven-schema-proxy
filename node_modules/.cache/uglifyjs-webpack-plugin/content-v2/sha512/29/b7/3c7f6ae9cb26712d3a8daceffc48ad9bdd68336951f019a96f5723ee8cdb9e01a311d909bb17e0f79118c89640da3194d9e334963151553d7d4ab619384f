{"code":"!function(e){var n={};function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=n,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:t})},r.r=function(e){Object.defineProperty(e,\"__esModule\",{value:!0})},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,\"a\",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p=\"\",r.w={},r(r.s=15)}([function(e,n){e.exports=require(\"node-fetch\")},function(e,n){e.exports=require(\"object-assign\")},function(e,n,r){!function(){\"use strict\";var n=r(1),t=r(6),o={origin:\"*\",methods:\"GET,HEAD,PUT,PATCH,POST,DELETE\",preflightContinue:!1,optionsSuccessStatus:204};function i(e){return\"string\"==typeof e||e instanceof String}function u(e,n){var r,t=n.headers.origin,o=[];return e.origin&&\"*\"!==e.origin?i(e.origin)?(o.push([{key:\"Access-Control-Allow-Origin\",value:e.origin}]),o.push([{key:\"Vary\",value:\"Origin\"}])):(r=function e(n,r){if(Array.isArray(r)){for(var t=0;t<r.length;++t)if(e(n,r[t]))return!0;return!1}return i(r)?n===r:r instanceof RegExp?r.test(n):!!r}(t,e.origin),o.push([{key:\"Access-Control-Allow-Origin\",value:!!r&&t}]),o.push([{key:\"Vary\",value:\"Origin\"}])):o.push([{key:\"Access-Control-Allow-Origin\",value:\"*\"}]),o}function s(e){return!0===e.credentials?{key:\"Access-Control-Allow-Credentials\",value:\"true\"}:null}function l(e){var n=e.exposedHeaders;return n?(n.join&&(n=n.join(\",\")),n&&n.length?{key:\"Access-Control-Expose-Headers\",value:n}:null):null}function a(e,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];i&&(Array.isArray(i)?a(i,n):\"Vary\"===i.key&&i.value?t(n,i.value):i.value&&n.setHeader(i.key,i.value))}}e.exports=function(e){var r=null;return r=\"function\"==typeof e?e:function(n,r){r(null,e)},function(e,t,i){r(e,function(r,c){if(r)i(r);else{var p=n({},o,c),f=null;p.origin&&\"function\"==typeof p.origin?f=p.origin:p.origin&&(f=function(e,n){n(null,p.origin)}),f?f(e.headers.origin,function(n,r){n||!r?i(n):(p.origin=r,function(e,n,r,t){var i=[];\"OPTIONS\"===(n.method&&n.method.toUpperCase&&n.method.toUpperCase())?(i.push(u(e,n)),i.push(s(e)),i.push(function(e){var n=e.methods;return n.join&&(n=e.methods.join(\",\")),{key:\"Access-Control-Allow-Methods\",value:n}}(e)),i.push(function(e,n){var r=e.allowedHeaders||e.headers,t=[];return r?r.join&&(r=r.join(\",\")):(r=n.headers[\"access-control-request-headers\"],t.push([{key:\"Vary\",value:\"Access-Control-Request-Headers\"}])),r&&r.length&&t.push([{key:\"Access-Control-Allow-Headers\",value:r}]),t}(e,n)),i.push(function(e){var n=e.maxAge&&e.maxAge.toString();return n&&n.length?{key:\"Access-Control-Max-Age\",value:n}:null}(e)),i.push(l(e)),a(i,r),e.preflightContinue?t():(r.statusCode=e.optionsSuccessStatus||o.optionsSuccessStatus,r.setHeader(\"Content-Length\",\"0\"),r.end())):(i.push(u(e,n)),i.push(s(e)),i.push(l(e)),a(i,r),t())}(p,e,t,i))}):i()}})}}}()},function(e,n){e.exports=require(\"apollo-server-express\")},function(e,n){e.exports=require(\"apollo-link-http\")},function(e,n){e.exports=require(\"apollo-fetch\")},function(e,n){e.exports=require(\"vary\")},function(e,n){e.exports=require(\"graphql-tools\")},function(e,n){e.exports=require(\"body-parser\")},,,function(e,n){e.exports=require(\"compression\")},function(e,n){e.exports=require(\"express\")},function(e,n){e.exports=require(\"babel-polyfill\")},function(e,n,r){\"use strict\";let t=(i=function*(){x.map(function(e){return new p.HttpLink({uri:e,fetch:u.default})});const e=yield(0,f.weaveSchemas)({endpoints:[{namespace:\"primary\",typePrefix:\"Primary\",url:v},{namespace:\"secondary\",typePrefix:\"Secondary\",url:y}]});console.log(e),d.use((0,a.default)({allow:\"*\"})),d.use(\"/graphql\",l.default.json(),(0,c.graphqlExpress)({schema:e})),d.get(\"/graphiql\",(0,c.graphiqlExpress)({endpointURL:\"/graphql\",query:\"\\n      query {\\n        allPosts {\\n          authors {\\n            name\\n            bibliography\\n          }\\n          title\\n          content\\n        }\\n      }\\n    \"})),d.listen(g,function(){console.log(`server running on ${g}`)})},o=function(){var e=i.apply(this,arguments);return new Promise(function(n,r){return function t(o,i){try{var u=e[o](i),s=u.value}catch(e){return void r(e)}if(!u.done)return Promise.resolve(s).then(function(e){t(\"next\",e)},function(e){t(\"throw\",e)});n(s)}(\"next\")})},function(){return o.apply(this,arguments)});var o,i;r(13);var u=h(r(0)),s=h(r(12)),l=(h(r(11)),h(r(8))),a=h(r(2)),c=r(3),p=(r(5),r(7),r(4)),f=r(!function(){var e=new Error('Cannot find module \"graphql-weaver\"');throw e.code=\"MODULE_NOT_FOUND\",e}());function h(e){return e&&e.__esModule?e:{default:e}}process.browser||(global.fetch=u.default);const g=3010,d=(0,s.default)(),v=\"https://api.graphcms.com/simple/v1/cjfipt3m23x9i0190pgetwf8c\",y=\"https://api.graphcms.com/simple/v1/cjfipwwve7vl901427mf2vkog\",x=[v,y];try{t()}catch(e){console.log(e,e.message,e.stack)}},function(e,n,r){\"use strict\";const t=r(14);e.exports=t}]);","extractedComments":[]}